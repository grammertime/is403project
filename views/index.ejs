<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pokémon List</title>

  <style>
    /* 
      ----------- GENERAL PAGE STYLING -----------
      Sets font, colors, spacing, and overall layout.
    */
    body {
      font-family: "Segoe UI", Arial, sans-serif;  /* Clean, modern font */
      background-color: #f4f4f9;                   /* Soft gray background */
      color: #333;                                 /* Dark gray text */
      margin: 0;
      padding: 40px;
      display: flex;                               /* Centers page vertically */
      flex-direction: column;
      align-items: center;
    }

    /* Page title style */
    h1 {
      margin-bottom: 20px;
      color: #2c3e50;                              /* Slightly darker blue-gray color */
      letter-spacing: 1px;                         /* Adds spacing between letters */
    }

    /* 
      ----------- TABLE STYLING -----------
      Displays Pokémon data in a neat table.
    */
    table {
      border-collapse: collapse;                   /* Removes double borders */
      width: 60%;                                  /* Keeps table at a readable width */
      background: white;                           /* White table background */
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);       /* Subtle shadow for depth */
      border-radius: 8px;                          /* Rounds table corners */
      overflow: hidden;                            /* Keeps rounded corners clean */
      margin-bottom: 25px;
    }

    th, td {
      padding: 12px 16px;                          /* Spacing inside cells */
      text-align: left;
      border-bottom: 1px solid #ddd;               /* Light divider lines */
    }

    th {
      background-color: #fafafa;                   /* Slight contrast for header row */
      font-weight: bold;
      color: #555;
    }

    /* Highlights row when hovering for readability */
    tr:hover {
      background-color: #f9f9f9;
    }

    /* 
      ----------- FORM STYLING -----------
      Styles the search bar and submit button.
    */
    form {
      display: flex;
      gap: 10px;                                   /* Space between input and button */
      align-items: center;
    }

    /* Text input box styling */
    input[type=text] {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }

    /* Search button styling */
    input[type=submit] {
      padding: 8px 14px;
      background-color: #4CAF50;                   /* Calm green button */
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.2s ease-in-out;
    }

    /* Slightly darker green when hovered */
    input[type=submit]:hover {
      background-color: #43a047;
    }
  </style>
</head>

<body>
  <!-- Page title -->
  <h1>Pokémon List</h1>

  <!-- 
    Table showing all Pokémon from the database.
    "pokemons" is passed in from the server-side route.
  -->
  <table>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Base Total</th>
    </tr>

    <!-- Loop through each Pokémon record using EJS syntax -->
    <% pokemons.forEach(p => { %>
      <tr>
        <!-- Display Pokémon fields dynamically -->
        <td><%= p.id %></td>
        <td><%= p.description %></td>
        <td><%= p.base_total %></td>
      </tr>
    <% }) %>
  </table>

  <!-- 
    Search form that POSTs to /searchPokemon
    Allows user to look up a Pokémon by name.
  -->
  <form action="/searchPokemon" method="POST">
    <label for="name"><strong>Search by Name:</strong></label>
    <input type="text" id="name" name="name" placeholder="e.g., Bulbasaur" required>
    <input type="submit" value="Search">
  </form>
</body>
</html>
